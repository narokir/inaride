<script src="http://maps.googleapis.com/maps/api/js?sensor=true&libraries=places" type="text/javascript"></script>

<% provide(:title, 'Home') %>
<div class="row">
  <div class="page-header">
    <h1>
      Share a ride
    </h1>
  </div>
</div>

<!-- Main hero unit for a primary marketing message or call to action -->
<div class="row">
  <div class="span7">
<section id="search">
	
  <%= form_tag rides_path, :method => 'get',class: "form-horizontal" do %>
      <div class="control-group">
	 <label class="control-label">Origin</label>
	 <div class="controls">
	    <%= text_field_tag :origin, params[:origin], placeholder: 'Origin',class: "mainsearch span5",:autocomplete => "off"%>
	 </div>
      </div>
      <div class="control-group">
	 <label class="control-label">Destination</label>
	 <div class="controls">
	  <%= text_field_tag :destination, params[:destination],placeholder: 'Destination',class: "mainsearch span5",:autocomplete => "off"%>
	 </div>
      </div>
      <div class="control-group">
	 <label class="control-label">Date</label>
	 <div class="controls">
	  <%= text_field_tag :date, params[:date],id: "ride_date",class: "date-small",class: "mainsearch date-small"%>
	  	  <%= submit_tag "Find Trips", :name => nil, class: "btn btn-primary btn-large pull-right" %>

	 </div>
      </div>
	 
  <% end %>
  
</section>
  </div>
  <div class="span4">
    <div class="hero-unit">
      <p>Inoride connects <span style="color:#28D55F">drivers</span> and <span style="color:#32B6EF">passengers</span> who want to <span style="color:#D328CD">share a road trip</span></p>
	<%= link_to(new_ride_path, html_options = { class: "btn btn-large btn-add"}) do %>
	  ADD A RIDE<%=image_tag('car.png')%>
	<% end %>
    </div>
  </div>
</div>
      


<!--  <div class="hero-unit">
    <div class="container">
    <h2 class="span4 container">Inoride connects <span style="color:#28D55F">drivers</span> and <span style="color:#32B6EF">passengers</span> who want to <span style="color:#D328CD">share a road trip</span></h2>
  </div>
  </div>-->

<section id = "rides">
  <table class="table">
    <tr>
      <% @ride.each do |ride| %>
      <td><%= image_tag(ride.user.usr_img)%></td>
      <td><h3><%= link_to "#{ride.origin}   ---------> #{ride.destination}", ride, class: "" %></h3><p><%= ride.date.strftime(" %A, %b %d, %Y") %></p></td>
      <td><%= ride.user_id %></td>
      <td><%= ride.id %></td>
    </tr>
    <% end %>
  </table>
</section>




<script type="text/javascript" charset="utf-8">
function initialize() {
        var mapOptions = {
          center: new google.maps.LatLng(-33.8688, 151.2195),
          zoom: 13,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        var map = new google.maps.Map(document.getElementById('map_canvas'),
          mapOptions);

        var origin = document.getElementById('origin');
	var destination = document.getElementById('destination');
        var autocomplete = new google.maps.places.Autocomplete(origin);
	var autocomplete = new google.maps.places.Autocomplete(destination);

        autocomplete.bindTo('bounds', map);

        var infowindow = new google.maps.InfoWindow();
        var marker = new google.maps.Marker({
          map: map
        });

        setupClickListener('changetype-all', []);
        setupClickListener('changetype-establishment', ['establishment']);
        setupClickListener('changetype-geocode', ['geocode']);
      }
      google.maps.event.addDomListener(window, 'load', initialize);
</script>

<div id="map_canvas"></div>